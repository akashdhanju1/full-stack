<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Live Character Counter</title>
  <style>
    :root{
      --bg:#f6f8fb;
      --card:#ffffff;
      --accent:#0ea5e9;
      --muted:#6b7280;
      --radius:12px;
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    body{background:var(--bg);display:flex;align-items:center;justify-content:center;min-height:100vh;margin:0;padding:24px}
    .card{background:var(--card);border-radius:var(--radius);box-shadow:0 6px 30px rgba(15,23,42,0.06);max-width:760px;width:100%;padding:22px}
    h1{margin:0 0 8px;font-size:20px}
    p.lead{margin:0 0 18px;color:var(--muted);font-size:14px}
    .layout{display:grid;grid-template-columns:1fr 160px;gap:16px;align-items:start}
    textarea{width:100%;min-height:180px;padding:12px;border-radius:10px;border:1px solid #e6eef8;font-size:15px;resize:vertical;line-height:1.5;box-sizing:border-box}
    .aside{background:linear-gradient(180deg,#fbfeff,#f7fbff);border-radius:10px;padding:14px;border:1px solid #eef6ff;display:flex;flex-direction:column;gap:12px;align-items:center;justify-content:center}
    .count{font-size:28px;font-weight:700;color:var(--accent)}
    .label{font-size:13px;color:var(--muted)}
    .controls{display:flex;gap:8px;width:100%}
    button{flex:1;padding:8px 10px;border-radius:8px;border:0;background:var(--accent);color:white;font-weight:600;cursor:pointer}
    button.secondary{background:#eef6ff;color:#0b6b87}
    footer{margin-top:14px;color:var(--muted);font-size:13px}
    @media (max-width:680px){.layout{grid-template-columns:1fr;}.aside{flex-direction:row;padding:12px}}
  </style>
</head>
<body>
  <main class="card" role="main">
    <h1>Live Character Counter</h1>
    <p class="lead">Type in the box â€” the character counter updates immediately as you type or delete.</p>
    <div class="layout">
      <div>
        <label for="textInput" class="sr-only">Text input</label>
        <textarea id="textInput" placeholder="Start typing..." aria-label="Text input for character counting"></textarea>
        <footer id="preview" aria-live="polite"></footer>
      </div>
      <aside class="aside" aria-hidden="false">
        <div style="text-align:center">
          <div class="count" id="charCount">0</div>
          <div class="label">Characters</div>
        </div>
        <div style="width:100%">
          <div class="controls">
            <button id="clearBtn" type="button" class="secondary">Clear</button>
            <button id="copyBtn" type="button">Copy</button>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <script>
    (function(){
      const textarea = document.getElementById('textInput');
      const counter  = document.getElementById('charCount');
      const clearBtn = document.getElementById('clearBtn');
      const copyBtn  = document.getElementById('copyBtn');
      const preview  = document.getElementById('preview');

      function update(){
        // Count characters exactly (including whitespace and newlines)
        const value = textarea.value || '';
        counter.textContent = value.length;
        // show a short live preview (first 200 chars) to demonstrate live updates
        preview.textContent = value.length ? `Preview: "${value.slice(0,200)}${value.length>200? '...' : ''}"` : '';
      }

      // update on input (covers typing, deleting, paste, cut)
      textarea.addEventListener('input', update);

      // Clear button
      clearBtn.addEventListener('click', ()=>{
        textarea.value = '';
        update();
        textarea.focus();
      });

      // Copy button
      copyBtn.addEventListener('click', async ()=>{
        try{
          await navigator.clipboard.writeText(textarea.value);
          copyBtn.textContent = 'Copied!';
          setTimeout(()=> copyBtn.textContent = 'Copy', 1200);
        }catch(e){
          copyBtn.textContent = 'Failed';
          setTimeout(()=> copyBtn.textContent = 'Copy', 1200);
        }
      });

      // initialize
      update();
    })();
  </script>
</body>
</html>
